/* ============================================================ */
/* ファイル名 : pf_bz_if.c                                      */
/* 機能       : ブザー I/F処理                                  */
/* ============================================================ */
#define SECTION_PF

/* ============================================================ */
/* インクルード                                                 */
/* ============================================================ */
/* プロジェクト共通 */
#include "prj_cmn_section.h"
#include "prj_cmn_option.h"
#include "prj_cmn_type.h"
#include "prj_cmn_macro.h"

/* カテゴリ共通 */
#include "pf_cmn_option.h"
#include "pf_cmn_option_pac.h"

/* 個別 */
#include "hw_drv_buzzer.h"
#include "pf_bz_ctrl_pac.h"

/* 本体 */
#include "pf_bz_if_pac.h"


/* ============================================================ */
/* マクロ定数定義                                               */
/* ============================================================ */


/* ============================================================ */
/* 型定義                                                       */
/* ============================================================ */


/* ============================================================ */
/* 関数プロトタイプ宣言(static)                                 */
/* ============================================================ */


/* ============================================================ */
/* 変数定義(extern)                                             */
/* ============================================================ */


/* ============================================================ */
/* 変数定義(static)                                             */
/* ============================================================ */


/* ============================================================ */
/* const変数定義(extern)                                        */
/* ============================================================ */


/* ============================================================ */
/* const変数定義(static)                                        */
/* ============================================================ */


/* ============================================================ */
/* 関数形式マクロ定義                                           */
/* ============================================================ */


/* ============================================================ */
/* 関数定義                                                     */
/* ============================================================ */
/* ============================================================ */
/* 関数名 : FnVD_PfBz_If_initHw                                 */
/*          ブザー I/F処理初期化(HW用)                          */
/* 引数   : なし                                                */
/* 戻り値 : なし                                                */
/* 概要   : ハードウェア層の初期化を行う                        */
/* 制約   : なし                                                */
/* ============================================================ */
VD FnVD_PfBz_If_initHw(VD)
{
  FnVD_HwDrv_Bz_init();
}


/* ============================================================ */
/* 関数名 : FnVD_PfBz_If_setReq                                 */
/*          ブザー吹鳴要求設定                                  */
/* 引数   : なし                                                */
/* 戻り値 : なし                                                */
/* 概要   : ブザーを吹鳴させる                                  */
/* 制約   : なし                                                */
/* ============================================================ */
VD FnVD_PfBz_If_setReq(VD)
{
  U1 tu1Req;
  U4 tu4Freq;

  /* ブザー出力要求値取得 */
  tu1Req = FnU1_PfBz_Ctrl_getReq();

  if (tu1Req == (U1)C_ON) {
    /* ブザー出力周波数取得 */
    tu4Freq = FnU4_PfBz_Ctrl_getFreq();

    /* 出力周波数設定 */
    FnVD_HwDrv_Bz_setFreq(tu4Freq);
  }

  /* 出力要求設定 */
  FnVD_HwDrv_Bz_ctrlStpAndGo(tu1Req);
}


